#!/bin/bash


if [[ $UID == 1005 ]]; then

    echo "*******************************************************************************************************"
    echo "hmmm it seems you've spoiled your PATH. here is your original PATH, fix it please."
    echo "I'll never let you again ruin my path (angry emoji)"
    echo ""
    export PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin"
    echo $PATH
    echo ""
    echo "you don't look that bad at all bacuase you could come up until here, but from now, YOU SHALL NOT PASS !!!"
    echo "The author has implemented an authentication system. he believes that this is the worlds most secure authentication schema"
    echo "Let's see if you can bypass it."
    echo "*******************************************************************************************************"


    super_secret_password=$(cat /dev/urandom | head -c 16 | xxd -p)
    user3_password=$(cat /home/user3/cred3.txt | cut -d ':' -f2)

    read -s -p "Can you guess the password : " user_password
    echo ""

    if [[ $super_secret_password == $user_password ]]; then
        echo "Wow you guessed the super secret password. how wild! :P."
        echo "For your reward I'll execute a command on behalf of user3."
        read -p "Give me your command : " cmd
        /bin/bash -c cmd
    else 
        echo "Oh I'm sorry that's not correct"
    fi

else
    echo "Oh what are you doing?!"
fi